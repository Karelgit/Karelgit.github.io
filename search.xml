<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>做了个梦</title>
    <url>/2020/03/28/dreamviewer/</url>
    <content><![CDATA[<blockquote>
<p>2020-03-28 做了个梦，感觉有点意思，把它记录下来</p>
</blockquote>
<p>​       在我30多岁这一年的这一天，我一个以前的同事，把中小学课程通过盗版渠道成立了一个在线教育和直播平台，居然做成了全国的规范。中午他又和同事因为处事方式的激进和不可调和，在办公园区大打出手，脸上挂红，其实我和他已经好几年没有联系了，很大原因也是因为他的脾气确实也是烂得没话说。 <a id="more"></a>平时虽然我和他在一个城市，我都懒得和他打交道，确实人格令人讨厌，但是今天他找到了我，我还是憋着不快听了他和我抱怨他同事怎么不尊重他为他们企业的付出，作为一个新人如何对他指点江山，这让他蒙羞。因为他确实把一个烂App做成全国平台，实际意义的公司创始人。所以，虽然一大把年纪了，他也动手了！狠狠地揍了这个小屁孩。因为今天是工作日，中午看到他脸上挂红，我才勉强受邀过来听他瞎扯的。现在穿过他住的地方，他现在算存了不少钱了，但是还住在城中村，这和他守财奴的性格还真是他娘的配的一脸。我和他穿过了通勤的羊肠小道，傍边有卖油炸粑粑的，炸洋芋的，各种生意的妇人摆着小摊生意的家伙什，小矮凳，一个生火用的小炉子，上面一口装着贩卖产品的小锅，有赶集时候的烟火气。我们穿过了这些，合中午3点钟左右，分道扬镳了，他去他早上刚挂完彩的公司上班，我也开始去上班了，这么多年来在自己专业领域的辛勤专研，似乎现在晚一点上班，其实并不会让我自己在人们心里面的权威有任何影响。就在这个时候，前不搭村后不搭店的来了一个越野车，车里坐满了拿着开荒工具的各种人，充满了在历史书里看到古早时期去美洲淘金热的场景，我不自觉鬼使神差地上了那一趟车，跟着同伙都觉着，是很好的投资机会在邀请自己，傻兮兮地被介绍到一个我都并不熟悉的南美城市，危地马拉，到达地全是热带的景观和遮天蔽日的绿林，后来我是才知道被商人当做农奴贩卖到这这里，时间过去一天又一天，终于环境，我下面的描述，开启沉浸视角，你肯定能领会一二，在一片开阔地上，我正在坐着被强迫做的工作，割橡胶、除除草之类的吧，这片开阔地是热带雨林边上灌木、野草杂生的地方，我累了，两颊汗如雨注的咸汗，端视了这个我已经因为忘记了什么原因，主动投入进来的牢笼，已经十多二十年了，这逼近天际线的远方密林，对于热爱自然的我来说，居然有这不尽的压迫感，天空只露出比一线天景观多了那么一点的位置，其他的都被茂密伫立的绿油油和潮湿多蚊虫的密林直接和天际线连接，虽然我热爱植物，热爱自然，也提不起对这里爱的感受，就算我站立在很宽的灌木丛大阔地上，远方的密林仍然让我感觉到这个世界的另外一头发生了平面的卷积，正在卷向我，我就像小时候印象里被夏天凉席从一头卷向自己的感觉，但是，这次是另一边的地球地平线卷向我，我也不知道这种奴役的生活还有多久，似乎我已经习惯了我是这片土地的一员，已经被这里的草木同化，不再有浓烈的离开的愿望，完全忘记了地球的哪一头我的父亲母亲和妹妹，已经快20年过去了，我竟然这么自然地接受了偶然事故造成的我们远离！</p>
<p>​		倏尔，起火了，我看见向我卷积的热带雨林带着炙烤的温度，像太阳表面发生巨变的耀斑的火球，点缀着束缚我快20年的这片密林，真的越来热了，它真在卷向我，时不时有人从还未被，或者已经被卷进去的地平线的卷积面冲了出来，有身上已经着火的，有身上没有着火的，一阵狼嚎哭喊，全冲了出来，不仅有平时一起的劳工，还有属于这边土地，享受这人民奉养的土地拥有者，全出来了，往地球的另一端逃离。我心里也害怕极了，掉过头来，往地球的另一头跑去，这次的火感觉和平时的火灾不一样，像是要把地球当成夏天凉席裹成一卷，然后生生烧光，我没命的跑，从地球的一头跑到了一头，从南美洲穿过无尽的连绵烧起来的地貌，可能过海的时候我也是游过来的，我也不知道这一切怎么产生，一直到亚洲，到了相距一个白昼时差的家乡，但是火依然不见视觉上的小，我小时候生长的地方，也着火了，这几年可能因为环境保护的倡议，和政府的富足，整个地球的植被都火速的恢复得非常非常好，好像这种绵密是为了起火时带动火势而产生的。我这是在想啥呢，应该不会有这种奇奇怪怪的逻辑，我和本地原住居民一起灭火，我已经离开这里二十年了，我看到旁边的人，两颊斑白，实在熟悉，但是因为这火势的迅猛和脑力的退化，已经没法一下子想起来是谁了，可能故乡人自带的亲切感亦不一定，有可能是因为这么土地味的亚洲面孔。我们拿着水管朝着火源猛喷，但是一点没用啊，感觉要烧干净一切才罢休的样子，我心里一直想着父亲母亲，我往家里赶，越往里面走，感觉被密林裹住的感觉就越发强烈，时不时还有水柱从密林的缝隙冲刷出来，应该是乡亲们在外围灭火喷的，我打开了们，看到了父亲躺在椅子上，这里虽然比平时热，但是看着不时有从包围这家的密林的缝隙间冲刷出来水柱，父亲感觉一点也不慌张，也完全体会不了我跑了半个地球回到这里喊他们撤离的焦急，“快走啊，这火不是开玩笑的，从来没见过怎么大的火，妈妈，快叫上爸爸一起走”，我说道。“不要怕，这个火等一会自己就停了，都这么大的人了，做事情还怎么慌里慌张，没点长进”！父亲不耐烦地回应我，我当然觉得很惊讶，但是管不了怎么多了，我问问父亲，妹妹呢？他说在她孩子爷爷奶奶家呢，对哦，我离开很久了，妹妹自然也成家立业了，不知道是不是和以前一起谈恋爱的那个男孩，父亲说是的。我费劲了心思，把父亲母亲接到了政府安排的避难的建筑里，随着时间的推移，慢慢地火也逐渐被政府和民众控制住了，天也渐渐黑了，我站在避难所的一角，大家都杂乱地各寻空地休息，这是一片还没开始办公用的建筑用地，建筑建的差不多了，都是水泥框架，没装什么墙面玻璃。这是这几十年基建过剩留下来的，这样的建筑还有很多。多到完全超出了生产力可以覆盖的地步，只能闲置了，不想却成了这次火灾天然的避难所。接着昏暗的灯光，时不时来了过来安顿的人，还有小时候一起长大的伙伴，都布满白发和杂乱的胡须了，我实在崩不住了，眼泪在眼睛里面打转，模糊得我都看不清昏黄灯光下继续走来的人，我擦干眼眶里面的泪水，继续和前来的一起长大的小伙伴相认，“XX，好久不见了，我是xxx，这么多年你跑哪儿了，老了老了”，“这不是xx吗，我是XXX啊，居然在这遇到你，等会让我媳妇弄点花生米，我们喝两口”，“好的好的，一定一定”，我回应道。我真的很久没有见过家乡里的人了，在这次地球快被吞灭的灾难后，我们居然相遇了，心里各种情绪翻滚，都不能连续地发出声来回应在场的很面生的老朋友。“你妹妹快到了”，父亲说道。</p>
<p>​		从斑驳，布满飞尘和火烧过的灰烬的外墙边上显露出三两个人影，一个老奶奶和一个40来岁的妇女，虽然说是妇女，着装打扮很得体，小脸，优雅，很精致的妆容还没有退去，脸上很白，可能是化妆的粉，也可能是被这大火吓到发白的样子，这个人的出现，我咽喉哽咽，感觉什么东西堵住了，虽然过了很多年，但是我知道是我妹妹，接着我的眼睛里被透明的液体再次充满到模糊，我已经不知道今天我是第几次被眼泪打满了眼眶，又极力表现出不动声色的尽量得体的样子，可心里面已经数不清具体的多少种情绪在翻滚了。“你妹妹这么多年一直在幼儿园里面教书，和小朋友相处得很好，就是和婆婆家关系不太行”，慢慢又接着说，“婆婆不满意，说她居然当着她的面在家里和一起来玩的朋友喝酒划拳，不成体统”，虽然我也不赞同这种独立不管他人的做法，但是都这个时代了，虽然不同意，但是内心其实没有太多的排斥的想法了，毕竟个人价值来自独立的思考和行为方式嘛，我一直这么认为的。况且她是我妹妹，再过分一点估计我也产生不出嫌弃她来迎合别人这些行为，可能是对它的爱大于别人吧。“你妹妹在网络上还很有名，经常发表她的行业文章和分享生活点滴，就是有个很孤单的名字，地球孤星，不知道什么原因，她不太轻易表达自己的看法”，旁边的大姐接着刚才母亲的吐槽继续说道。我不知道地球孤星这个网名表现的孤独感，是不是和我这个哥哥突然失踪有关系，我想多少有点关系，因为父亲母亲老了，但是哥哥却不知道哪里去了。我感觉我的眼眶已经装不完继续冒出来的泪水了。在我克制保持体面准备闭上眼睛把眼泪包裹起来的最后一刻，我看向了她，还是很精致的妆容，但是她已经闭上了眼睛，如注的泪水挂上了她闭着的双眼，眼眶边上的些许皱纹和妆容上的白色的粉、黑色眼线的妆混在了一起，感觉像一盆水泼到了父亲用墨汁写在地上的毛笔字上，眼眶局部有着和她的精致的妆容十分不和谐的杂乱，我想我会建议可以她把地球孤星这个名字给改了。</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>人文</category>
      </categories>
      <tags>
        <tag>人文</tag>
        <tag>科技</tag>
      </tags>
  </entry>
  <entry>
    <title>《娱乐至死》读书笔记</title>
    <url>/2020/03/27/%E3%80%8A%E5%A8%B1%E4%B9%90%E8%87%B3%E6%AD%BB%E3%80%8B%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>读书</category>
      </categories>
      <tags>
        <tag>读书</tag>
      </tags>
  </entry>
  <entry>
    <title>灵活网关SpringCloud Gateway</title>
    <url>/2020/03/26/spring-cloud-gateway/</url>
    <content><![CDATA[<h3 id="灵活网关"><a class="header-anchor" href="#灵活网关">¶</a>灵活网关</h3>
<p>​		在使用网关进行微服务管理的工程中，我们编写了包含鉴权、限流的解决方案，加在访问到业务代码API之前，下图具体介绍控制逻辑，包含<a href="https://redisbook.readthedocs.io/en/latest/feature/scripting.html" target="_blank" rel="noopener">lua脚本</a>进行对访问进行令牌的控制，如果不知道令牌桶的概念，可以先看：<a href="">https://www.jianshu.com/p/864ddda9288f</a>，下面进入流程</p>
<p><img src="/Users/macbookpro/IdeaProjects/hexo/source/_drafts/spring-cloud-gateway/main-frame.png" alt="项目访问控制"></p>
<p>​				                											<em>图1 网关控制流程图</em></p>
<p>​      SpringCloud 的异常处理不同于SpringMVC或者SpringBoot下的全局异常处理因为底层的处理器不同，代码层表现为继承的类不同，SpringCloud需要继承DefaultErrorWebExceptionHandler进行异常处理,，SpringMVC和SpringBoot通过@ControllerAdvice<code>和</code>@ExceptionHandler处理不同的自定义异常处理逻辑。</p>
<p>​		展示一下项目的结构：</p>
<p><img src="/Users/macbookpro/IdeaProjects/hexo/source/_drafts/spring-cloud-gateway/project-layout.png" alt="project-layout"></p>
<figure class="highlight plain"><table><tbody><tr><td class="code"><pre><span class="line">`{% img [class names] /path/to/image [width] [height] '"title text" "alt text"' %}`</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>]]></content>
      <categories>
        <category>SpringCloud</category>
      </categories>
      <tags>
        <tag>SpringCloud-Gateway</tag>
        <tag>服务端编程</tag>
      </tags>
  </entry>
</search>
